# Pythonの基本的な使い方：演習課題


### 開発環境の整備

#### Pythonコードを実行する方法

Pythonのコードを実行するには，大きく分けて２通りのやり方があります．
１つは，ローカル環境にPythonインタプリタを自身で用意して実行する方法です．２つ目は，Webブラウザを使ってオンライン上で実行する方法です．

前者は，ローカル環境に[Pythonインタプリタ](https://www.python.org/)や[Anaconda（外部サイト）](https://www.anaconda.com/) をインストールして実行する方法です．
環境構築に手間がかかりますが，設定次第では非常に快適な開発環境を構築できます．

後者においては，Googleが機械学習の研究・教育用に提供するColaboratoryが有名です．
ColaboratoryはJupyter Notebookライクな統合開発環境です．
Webブラウザ上でPythonコードを実行できます．
Googleが持つ強力な計算機リソースを無料で使用できるため(いくつか制限はありますが)，学生や研究者にとても人気なサービスです．
Numpyやscikit-learnなど主要なモジュールは既にインストールされているため，手軽に機械学習の勉強を始めることができます．
また作成したコードはGoogle Driveに保存できるため，Webブラウザが使える環境であればどこでも開発できるという強みもあります．

この教材では，後者のColaboratoryを使って学習を進めます．

Google Colaboratory  
https://colab.research.google.com/

#### Colaboratoryを使うには

Colaboratoryを使うための最低限の手順について説明します．

1. Googleにログインしてください．Googleアカウントがなければ作成してください．
2. 新しいPythonコードを作成してみましょう．コードを作成するには，[Colaboratory](https://colab.research.google.com/)にアクセスし，ポップアップウィンドウの`ノートを新規作成する`を押すか，Colaboratoryにある`ファイル`タブ > 「ノートブイックを新規作成」を押します．
4. 新しいPythonコードとして`Untitled0.ipynb`が生成されます．このコードはGoogle Driveに自動で保存されます．保存先のフォルダはGoogle Drive内の マイドライブ > Colab Notebooks フォルダです．
5. ファイル名を好きに変更してください．

Colaboratoryには様々な機能がありますが，詳しくは説明しません．
知りたい方は，ぜひインターネットで検索して調べてみてください．

#### ColaboratoryでGoogle Driveをマウントするには

csvファイルなどのデータファイルを読み込んで処理したい場合はGoogle Driveのマウントを行います．
ここではColaboratoryにGoogle Driveをマウントし，ファイルをアップロードする方法を説明します．

[ Google Driveのマウント ]
1. Colaboratoryの画面左側にあるフォルダアイコンを押します．するとファイルウィンドウが開きます．
1. ファイルウィンドウの一番右にあるアイコン`ドライブをマウント`を押します．これでGoogle Driveをマウントできます．

[ Google Driveにファイルをアップロード ]
1. ファイルウィンドウからコードが保存してあるフォルダに移動します．(通常は drive > MyDrive > Colab Notebooks )
1. アップロードしたいファイルをファイルウィンドウにドラッグ & ドロップするか，ファイルウィンドウの一番左にあるアイコン`セッションストレージにアップロードします`を押してファイルをアップロードします．

***
### コードのダウンロード
まずはサンプルコードを実行してみましょう．そのためにはサンプルコードを手元の環境に持ってくる必要があります．素朴な方法は

[>> `01_print_check.py`](./01_print_check.py)

を表示して，コードの右上の方にある `Raw` を押してコードだけを表示させ，コピィ＆ペーストしたりページを保存したりすることです．コピィ＆ペーストの場合には保存するファイル名に注意しましょう．名前はなんでも大丈夫ですが，色々と問題が生じますので，日本語を入れるのは避けておきましょう．

[トップページ](https://github.com/YosukeSugiura/datamining-excercise)に飛ぶと，右側のほうに `Code` という緑色のボタンがあります．クリックすると `Download ZIP` とありますので，これでZIP形式のファイルをダウンロードできます．あとは解凍して使ってください．もちろんGitHubだから，自分のリポジトリにforkして・・なども可能です．詳しい人は，どうぞ．

***
### (Colaboratoryを利用しない場合) モジュールのインストール

Colaboratoryを利用していない人は，以下の必要なモジュールをインストールしてください．
Colaboratoryには既にこれらのモジュールがインストールされているので，Colaboratoryを利用する場合には操作は不要です．
```
numpy
scikit-learn
matplotlib
```

***
### コードの実行

例えばコード [`01_print_check.py`](./01_print_check.py) を実行したい場合には，
コードの内容をColaboratoryのセルに貼り付け，画面にある「ランタイム」タブ→「すべてのセルを実行」を押すと，結果が画面上に出力されます．

それでは，課題を実行していきましょう．事前学習用の教材に戻ったり，webで調べたりしながら，自分のペースで進めてください．
課題以外でも自分で挑戦したいことがあればどんどん進めてください．

***
#### 課題 1.1
1. コード [`01_print_check.py`](./01_print_check.py) を実行して結果を確認する．
1. 出力結果を画面に表示させないように改造する（コメントアウトの確認です．改造後，コードを元に戻してください）．
1. コードの5行目をコメントアウトして，エラーメッセージを確認する（またコードを戻すこと）．
1. 変数 `x` を別のもの（例えば `z` ）に変更して実行する．もしエラーメッセージが出たら，それに従って修正する（バグ取りを体験）．
1. （発展）数式を変えたりなど，色々といじる．

***
#### 課題 1.2
1. コード [`02_if_check.py`](./02_if_check.py) を実行して結果を確認する．
1. `x_value` や `y_value` の値を色々と変えて試す（少なくとも `x_value = 3`を試すこと）．
1. コードの各行の先頭部分の空白をいじって，エラーメッセージを確認する（コードを戻すこと）．
1. （発展）`print` の出力形式を変える（例えば小数点以下2桁までの表示，結果を二進数で表示，など）．
1. （発展）`elif` を変更・追加して `if` の使い方に慣れる．


***
#### 課題 1.3
1. コード [`03_for_check.py`](./03_for_check.py) を実行して結果を確認する．
1. 8行目の出力を２〜５番目の要素ではなく，１〜３番目に変更する（出力の日本語部分もあわせて変更してみましょう）．
1. （発展）11行目の `for` では「値+1.0」をした．代わりに，i 番目の「値」を i 倍するコードを書く．

***
#### 課題 1.4
1. コード [`04_numpy_check.py`](./04_numpy_check.py) を実行して結果を確認する．

2. `mat` は
```python
[[1.1 2.2 3.3]
 [4.4 5.5 6.6]
 [7.7 8.8 9.9]]
```
という2次元配列である．ここから配列を切り出して
```python
[[2.2 3.3]
 [5.5 6.6]
 [8.8 9.9]]
```
を作って出力する（データの切り出しに利用）．

3. `output` という変数をnumpy形式で
```python
[[10.1]
 [10.2]
 [10.3]]
```
として作る．これを `mat` に結合させて `mat_all` という変数を
```python
[[1.1 2.2 3.3 10.1]
 [4.4 5.5 6.6 10.2]
 [7.7 8.8 9.9 10.3]]
```
となるように作る（データの結合に利用）．

4. （発展）numpyで可能な様々な演算を調べて試す（逆行列，行列式，固有値など）．

***
#### 課題 1.5
1. コード [`05_plot_check.py`](./05_plot_check.py) を実行して結果を確認する．
1. `numpy arange` をwebで検索する．英語のマニュアルが検索結果のどこかにあるはずなので，記述を見る（見つからなければ [ここ（外部リンク）](https://docs.scipy.org/doc/numpy/reference/generated/numpy.arange.html)）．英語をできるだけ読む．
1. `matplotlib color` などで調べて，プロットの色を変える．
1. `pyplot axis label` などで調べて，x軸に `time`，y軸に `value` とラベルをつける．
1. eps形式でファイルを保存する（方法を調べること．レポート作成で tex を使う場合に必要）．実際に図を表示して確認する．
1. （発展）`def` で定義された関数を変えたり，描画する範囲を変えたりして，様々なプロットをしてみる．

***
[>> Pythonの基本的な使い方のトップページに戻る](./README.md)
***
<img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"> &nbsp; Jun Ohkubo
